{
  "articles": [
    {
      "path": "index.html",
      "title": "Bioinformatics and Stats Tutorials",
      "description": "R markdown tutorials for Rich Lab bioinformatic workflows\n",
      "author": [
        {
          "name": "Alicia M. Rich, Ph.D.",
          "url": {}
        }
      ],
      "contents": "\n\n\n\n\n\n\n\n\n\n\nRich Lab\n\n\nRich Lab Website\nHome\n\n\nSamples\n \n▾\n\n\nSample Inventory\nMetadata\n\n\n\n\nReference Database\n \n▾\n\n\nAdaptive Sampling mtDNA\n\n\n\n\nRead Processing\n \n▾\n\n\nMultiplex 16S\nMultiplex Adaptive Sampling\nSingleplex Adaptive Sampling\nSingleplex Whole Genome\n\n\n\n\nMicrobiome Data\n \n▾\n\n\nAlignments\nOTU References\nCount Normalization\nBasic Metrics\n\n\n\n\nFirst Use\n \n▾\n\n\nHCC Remote Computing\nMicroeco R Package\n\n\n☰\n\n\n  \n    \n      \n        \n        \n        \n      \n      Rich Lab\n    \n    \n      \n  Rich Lab Website\n\n\n  Home\n\n\n  \n    Samples\n     \n    \n  \n  \n      Sample Inventory\n    \n    \n      Metadata\n    \n  \n\n  \n    Reference Database\n     \n    \n  \n  \n      Adaptive Sampling mtDNA\n    \n  \n\n  \n    Read Processing\n     \n    \n  \n  \n      Multiplex 16S\n    \n    Multiplex Adaptive Sampling\n    Singleplex Adaptive Sampling\n    \n      Singleplex Whole Genome\n    \n  \n\n  \n    Microbiome Data\n     \n    \n  \n  \n      Alignments\n    \n    \n      OTU References\n    \n    \n      Count Normalization\n    \n    \n      Basic Metrics\n    \n  \n\n  \n    First Use\n     \n    \n  \n  \n      HCC Remote Computing\n    \n    \n      Microeco R Package\n    \n  \n      \n  \n\n\n\n\n\n\nBioinformatics and Stats Tutorials\n\n\n\n\nTutorial\nOptions\nmetadata_setup\nFiles Needed\nFiles\nProduced\n\nmicrobiome_alignments.html\nFiles\nNeeded\nFiles\nProduced\n\nmicrobiome_references.html\nFiles\nNeeded\nFiles\nProduced\n\nmicrobiome_preprocess.html\nFiles\nNeeded\nFiles\nProduced\n\n\nGeneral Script Advice\nOn Your First-Use of a\nWorkflow\nparams\noption in the R Markdown Header\nFile Paths and the\nconfig Package\nCustom\nEngines\n\n\n\nThis repository contains the scripts, tutorials, and templates for\nthe Rich Lab’s mainstream bioinformatic workflows. You can find some of\nthe current recommended tutorial versions of these workflows linked\nbelow.\n\nTutorial Options\n\nmetadata_setup\nThe purpose of a metadata file is to organize the potential\nindependent or predictor variables for your analysis into a single table\nwith one row per SampleID. Then, when you produce a set of\npotential dependent or outcome values, you organize those into a similar\nstructure with the SampleIDs organized rowwise to\nstreamline the process of matching predictor variables to outcome\nvariables by SampleID.\nIt’s good practice to keep as much of your information in one\ntidy table as possible so that you can keep pulling from that source to\nfurther filter, wrangle and analyze without losing track of different\nversions and datasets over time.\nThat means you should brainstorm as many possible predictor\nvariables you might use in downstream analysis as possible and organize\nthem into one tidy table where each SampleID is matched to a value for\nevery variable. You will end up ignoring most of these variables as\nyou construct individual tests and visuals later, so consider this\nsimply a rough draft of your information of interest.\nThis tutorial uses the Pygmy Loris dataset as an example. You may\nhave a very different set of variables to organize for your own\nproject.\n\nFiles Needed\ncompilation_loris.tsv - produced\nby the sample_inventory script\nAll other files depend on your specific variables of\ninterest\nMine mostly focus on diet trials and environmental context for\nthe Pygmy Loris subjects\n\n\nFiles Produced\nsamples_metadata.tsv - This file gets carried forward\non several other scripts in this repository to help you build consistent\npredictor variables across datasets.\n\n\n\nmicrobiome_alignments.html\nFollow this tutorial to take new raw read alignment data produced by\nEpi2ME Lab’s wf-16s pipeline and convert it into fully\nformatted, tidy tables that you can normalize and analyze using\nmicroeco, phyloseq or a similar package.\n\nFiles Needed\nsamples_metadata.tsv - produced\nby the metadata_setup script\n*_abundance_table_species.tsv - produced\nby the wf-16s pipeline in\nreadprocessing_multiplex_16s\n*_wf-16s-report.html - produced\nby the wf-16s pipeline in\nreadprocessing_multiplex_16s\nThe tutorial provides instructions and code to download one\n.csv file per demultiplexed sample from this\n.html file for a given sequencing run and merge those into\na table with raw alignment data\n\n\nFiles Produced\ntaxonomy_table.tsv - This table is required for\nmicroeco and several other metagenomic packages. It must\ncontain exactly one row per taxon in your dataset.\notu_table.tsv - This table is required for\nmicroeco and several other metagenomic packages. It must\ncontain exactly one row per taxon and one column per sample in your\ndataset. The numeric values represent the raw count of reads mapped to a\ngiven taxon within a given sample. We will want to normalize these\nbefore analyzing/interpreting them.\nsample_table.tsv - This table is required for\nmicroeco and several other metagenomic packages. It must\ncontain exactly one row per sample in your dataset. The columns contain\nmetadata values that we may use as independent/predictor variables for\ninterpreting our results.\n\n\n\nmicrobiome_references.html\nFollow this tutorial to use the NCBI accessions available in the\nread alignments you created in the previous script and use those to\nfetch one representative sequence per OTU in your dataset and then build\na phylogenetic tree to match.\n\nFiles Needed\nalignments.tsv - *raw alignment data gathered from the\nwf-16s output and organized into one table in the previous\nmicrobiome_alignments script*\n\n\nFiles Produced\nrefs_aligned_mafft.fasta - This contains one GenBank\nreference sequence for each taxon in your dataset that we can use to\nsubstitute for ASVs used in many approaches designed for short read 16S\ndata.\nrefs_tree.treefile - This is a phylogenetic tree\nproduced from the previous fasta multiple sequence alignment.\n\n\n\nmicrobiome_preprocess.html\nFollow this tutorial to construct, filter, and clean a microbiome\ndataset that will finally be ready for use in calculating basic summary\nstats/metrics.\nKeep in mind that the OTU table still stores count data, not\nnormalized abundance or diversity values.\n\n\nFiles Needed\nrefs_aligned_mafft.fasta - This contains one GenBank\nreference sequence for each taxon in your dataset that we can use to\nsubstitute for ASVs used in many approaches designed for short read 16S\ndata.\nrefs_tree.treefile - This is a phylogenetic tree\nproduced from the previous fasta multiple sequence alignment.\n\n\nFiles Produced\nphyloseq_genus.RData - Microbiome dataset stored as a\nphylo object with counts summed and trees collapsed to the Genus\nlevel.\nNote that the script also contains code to replicate this and\nall other files at higher taxonomic levels (Family, Order, Class,\nPhylum)\ntree_genus.RData - Only the phylogenetic tree stored\nin the phylo object.\nphyloseq_melt_genus.RData - Long tibble\nversion of the phylo object dataset.\n\n\n\n\nGeneral Script Advice\n\nOn Your First-Use of a Workflow\nI created a secondary repository called workflows_first_use.\nThis is where I will store some scripts/tutorials with specific\ninstructions for setting up your working directory and environment for\nspecialized packages (especially for microeco). You can\nfind the tutorial version of those scripts under the First Use\noption in the menu bar above.\n\n\nparams option in the R Markdown Header\nHere is what my default yaml header on most R Markdown\ndocuments in this repository look like:\n\n\n---\noutput:\n  html_document:\n    theme:\n      bslib: true\n    css: journal.css\n    toc: true\n    toc_float: true\n    df_print: paged\nparams:\n  sampleset: \"loris\"\n  seqrun: \"hdz18\"\n                     \n---\n\n\nI use the params option for streamlining some automation\nacross different scripts. You can use the sampleset setting under params\nin the header of this script to select which sampleset you will be\nworking with. Everywhere in a chunk of code where I have written\nparams$sampleset will be replaced with whichever strong you\nchange your params value to in the header.\n\n\nFile Paths and the config Package\nI also use config for streamlining and organization. If\nyou want to do the same, you should create your own\nconfig.yml file in your project working directory. You can\nexpand the content below to see what my example config.yml\nfile looks like as well as the R script I use to integrate this with the\nparams values for consistent file sourcing and writing\nacross datasets.\n\n\n\n\n\n\nShow/Hide `config.yml` File\n\n\n\n\ndefault:\n  setup: \"setup/global/setup.R\"\n  conflicts: \"setup/conflicted.R\"\n  functions: \"setup/global/functions.R\"\n  packages: \"setup/global/packages.R\"\n  inputs: \"setup/default_inputs.R\"\n  fonts: \"setup/global/fonts/FA6_Free-Solid-900.otf\"\n  test_prediction: \"setup/microbiome/test_prediction/\"\n  visuals: \"visuals/\"\n  tmp_tsv: \"tmp/tmp_table.tsv\"\n  tmp_downloads: \"tmp/downloads/\"\n  tmp_fetch: \"tmp/fetch_references.txt\"\n  tmp_fasta3: \"tmp/tmp3.fasta\"\n  tmp_fasta4: \"tmp/tmp4.fasta\"\n  git_url: \"https://rich-molecular-health-lab.github.io/\"\n  \nisolates:\n  samplesets: \"salci\" \n  minQC: 10\n  \nmicrobiome:\n  micro_scripts: !expr list(\"setup/microbiome/functions.R\", \"setup/microbiome/inputs.R\")\n  setup_dir: \"setup/microbiome\"\n  inputs: \"setup/microbiome/inputs.R\"\n  packages: \"setup/microbiome/packages.R\"\n  first_use_packages: \"setup/microbiome/packages_first_use.R\"\n  functions: \"setup/microbiome/functions.R\"\n  tax4fun: \"setup/microbiome/Tax4Fun2_ReferenceData_v2/\"\n  Ref99NR: \"setup/microbiome/Tax4Fun2_ReferenceData_v2/Ref99NR/\"\n  blast: \"setup/microbiome/ncbi-blast-2.16.0+/bin\"\n  \nswan:\n  functions: \"setup/read_processing/functions.R\"\n  loris_tax: \"/work/richlab/aliciarich/bioinformatics_stats/data/loris/taxonomy/\"\n  uid_file: \"/work/richlab/aliciarich/bioinformatics_stats/tmp/fetch_references.txt\"\n  logs: \"/work/richlab/aliciarich/bioinformatics_stats/logs\"\n  ont_reads: \"/work/richlab/aliciarich/ont_reads/\"\n  dorado_model: \"/work/richlab/aliciarich/ont_reads/dna_r10.4.1_e8.2_400bps_sup@v5.0.0/\"\n  bioinformatics_stats: \"/work/richlab/aliciarich/bioinformatics_stats\"\n  samplesheets: \"/work/richlab/aliciarich/bioinformatics_stats/dataframes/sample_sheet/loris\"\n  scripts: \"/work/richlab/aliciarich/bioinformatics_stats/batch_scripts/\"\n  accessions: \"/work/richlab/aliciarich/bioinformatics_stats/tmp/accessions.txt\"\n  tmp_fasta1: \"/work/richlab/aliciarich/bioinformatics_stats/tmp/tmp1.fasta\"\n  tmp_fasta2: \"/work/richlab/aliciarich/bioinformatics_stats/tmp/tmp2.fasta\"\n  tmp_fasta3: \"/work/richlab/aliciarich/bioinformatics_stats/tmp/tmp3.fasta\"\n  tmp_fasta4: \"/work/richlab/aliciarich/bioinformatics_stats/tmp/tmp4.fasta\"\n  raw_loris_mb: \"/work/richlab/aliciarich/ont_reads/loris_microbiome/hdz_raw\"\n  basecalled_loris_mb: \"/work/richlab/aliciarich/ont_reads/loris_microbiome/basecalled\"\n  trimmed_loris_mb: \"/work/richlab/aliciarich/ont_reads/loris_microbiome/trimmed\"\n  filtered_loris_mb: \"/work/richlab/aliciarich/ont_reads/loris_microbiome/filtered\"\n  loris_mb_aligned: \"/work/richlab/aliciarich/bioinformatics_stats/data/loris/taxonomy/refseqs_aligned.fasta\"\n  loris_mb_tree: \"/work/richlab/aliciarich/bioinformatics_stats/data/loris/taxonomy/refseqs_tree.newick\"\n\nbats:\n  sequencing:\n    coverage: \"visuals/bats_16s_depth_summary.html\"\n    depth_plot: \"visuals/bats_16s_depth_hist.html\"\n  metadata:\n    summary: \"metadata/bats/samples_metadata.tsv\"\n    key: \"metadata/bats/metadata_key.R\"\n    factors: \"metadata/bats/factors.R\"\n    scripts: !expr list(\"metadata/bats/colors.R\", \"metadata/bats/metadata_key.R\", \"metadata/bats/factors.R\")\n  inventories:\n    all_stages: \"../read_processing/samples/inventories/bats/compilation_bats.tsv\"\n    collection: \"../read_processing/samples/inventories/bats/samples_bats.csv\"\n    extraction: \"../read_processing/samples/inventories/bats/extracts_bats.csv\"\n    libraries: \"../read_processing/samples/inventories/bats/libraries_bats.csv\"\n    seqruns: \"../read_processing/samples/inventories/bats/seqruns_bats.csv\"\n  barcodes_output: \"../read_processing/samples/barcode_alignments/bats/\"\n  read_alignments: \"data/bats/read_alignments\"\n  taxa_reps:\n    aligned: \"data/bats/taxonomy/refseqs_aligned.fasta\"\n    tree: \"data/bats/taxonomy/refseqs_tree.newick\"\n    table: \"data/bats/taxonomy/tax_table.tsv\"\n\nloris:\n  day1: \"2023-10-26\"\n  last: \"2024-10-25\"\n  visuals:\n    demographics: \"visuals/loris/demography\"\n    coverage: \"visuals/loris_depth_summary.html\"\n    depth_plot: \"visuals/loris_depth_hist.html\"\n  AZAstudbooks:\n    btp: \"metadata/loris/Studbook/BTP25.R\"\n    btp_current: \"metadata/loris/Studbook/BTP25.tsv\"\n    lifetable: \"metadata/loris/Studbook/lifetable25.tsv\"\n    lifetabStatic: \"metadata/loris/Studbook/lifetable25_static.tsv\"\n    load_data: \"metadata/loris/Studbook/LoadStudbookData.R\"\n    functions: \"metadata/loris/studbookFunctions.R\"\n    reactables: \"metadata/loris/Studbook/reactables.R\"\n    living25: \"metadata/loris/Studbook/LivingPop_2025.csv\"\n    living21: \"metadata/loris/Studbook/LivingPop_2021.csv\"\n    historic21: \"metadata/loris/Studbook/HistoricPop_2021.csv\"\n    institutions: \n      current25: \"metadata/loris/Studbook/CurrentInstitutions_2025.csv\"\n      current21: \"metadata/loris/Studbook/CurrentInstitutions_2021.csv\"\n      historic21: \"metadata/loris/Studbook/HistoricInstitutions_2021.csv\"\n    working: \"metadata/loris/Studbook/working_studbook_loris25.tsv\"\n    reactable_ready: \"metadata/loris/Studbook/studbook_loris_reactableReady.tsv\"\n    timeline: \"metadata/loris/Studbook/working_timeline_loris25.tsv\"\n  metadata: \n    scripts: !expr list(\"metadata/loris/colors.R\", \"metadata/loris/metadata_key.R\", \"metadata/loris/diet_schedule.R\")\n    bristol: \"metadata/loris/bristols.tsv\"\n    studbook: \"metadata/loris/subjects_loris.csv\"\n    summary: \"metadata/loris/samples_metadata.tsv\"\n    key: \"metadata/loris/metadata_key.R\"\n    factors: \"metadata/loris/factors.R\"\n    foods: \"metadata/loris/foods.tsv\"\n    proteins: \"metadata/loris/proteins.tsv\"\n    fats: \"metadata/loris/fats.tsv\"\n    CHOs: \"metadata/loris/CHOs.tsv\"\n    Ash: \"metadata/loris/Ash.tsv\"\n    vitamins: \"metadata/loris/vitamins.tsv\"\n    reactable: \"metadata/loris/loris_metadata_summary.html\"\n    sample_table: \n      identifiers: \"metadata/loris/identifier_key.tsv\"\n      main: \"metadata/loris/sample_table.tsv\"\n      merged: \"metadata/loris/sample_table_merged.tsv\"\n  inventories:\n    all_stages: \"../read_processing/samples/inventories/loris/compilation_loris.tsv\"\n    collection: \"../read_processing/samples/inventories/loris/samples_loris.csv\"\n    extraction: \"../read_processing/samples/inventories/loris/extracts_loris.csv\"\n    libraries: \"../read_processing/samples/inventories/loris/libraries_loris.csv\"\n    seqruns: \"../read_processing/samples/inventories/loris/seqruns_loris.csv\"\n  outputs_wf16s: \"data/loris/outputs_wf16s/\"\n  barcodes_output: \"dataframes/barcodes/loris/\"\n  read_alignments: \"data/loris/read_alignments\"\n  taxa_reps:\n    aligned: \"data/loris/taxonomy/refseqs_aligned.fasta\"\n    tree: \"data/loris/taxonomy/refseqs_tree.newick\"\n    table: \"data/loris/taxonomy/tax_table.tsv\"\n  abundance_wf16s: \"data/loris/wf16s_abundance/\"\n  microeco: \n    dataset:\n      main:\n        keg: \"microeco/loris/datasets/main/keg\"\n        njc: \"microeco/loris/datasets/main/njc\"\n        fpt: \"microeco/loris/datasets/main/fpt\"\n        tax: \"microeco/loris/datasets/main\"\n      culi:\n        keg: \"microeco/loris/datasets/culi/keg\"\n        njc: \"microeco/loris/datasets/culi/njc\"\n        fpt: \"microeco/loris/datasets/culi/fpt\"\n        tax: \"microeco/loris/datasets/culi\"\n      warb:\n        keg: \"microeco/loris/datasets/warble/keg\"\n        njc: \"microeco/loris/datasets/warble/njc\"\n        fpt: \"microeco/loris/datasets/warble/fpt\"\n        tax: \"microeco/loris/datasets/warble\"\n    abund:\n      main:\n        keg: \"microeco/loris/abundance/main/keg\"\n        fpt: \"microeco/loris/abundance/main/fpt\"\n        njc: \"microeco/loris/abundance/main/njc\"\n        tax: \"microeco/loris/abundance/main\"\n      culi:\n        keg: \"microeco/loris/abundance/culi/keg\"\n        fpt: \"microeco/loris/abundance/culi/fpt\"\n        njc: \"microeco/loris/abundance/culi/njc\"\n        tax: \"microeco/loris/abundance/culi\"\n      warb:\n        keg: \"microeco/loris/abundance/warble/keg\"\n        fpt: \"microeco/loris/abundance/warble/fpt\"\n        njc: \"microeco/loris/abundance/warble/njc\"\n        tax: \"microeco/loris/abundance/warble\"\n    alpha:\n      main: \"microeco/loris/alphadiversity/main\"\n      culi: \"microeco/loris/alphadiversity/culi\"\n      warb: \"microeco/loris/alphadiversity/warble\"\n    beta:\n      main:\n        kegg: \"microeco/loris/betadiversity/main/keg\"\n        fpt: \"microeco/loris/betadiversity/main/fpt\"\n        njc: \"microeco/loris/betadiversity/main/njc\"\n        tax: \"microeco/loris/betadiversity/main\"\n      culi:\n        kegg: \"microeco/loris/betadiversity/culi/keg\"\n        fpt:  \"microeco/loris/betadiversity/culi/fpt\"\n        njc:  \"microeco/loris/betadiversity/culi/njc\"\n        tax: \"microeco/loris/betadiversity/culi\"\n      warb:\n        kegg: \"microeco/loris/betadiversity/warble/keg\"\n        fpt:  \"microeco/loris/betadiversity/warble/fpt\"\n        njc:  \"microeco/loris/betadiversity/warble/njc\"\n        tax: \"microeco/loris/betadiversity/warble\"\n    data:\n      main:\n        feature: \"microeco/loris/datasets/main/feature_table.tsv\"\n        tree:    \"microeco/loris/datasets/main/phylo_tree.tre\"\n        fasta:   \"microeco/loris/datasets/main/rep_fasta.fasta\"\n        samples: \"microeco/loris/datasets/main/sample_table.tsv\"\n        taxa:    \"microeco/loris/datasets/main/tax_table.tsv\"\n      culi: \n        feature: \"microeco/loris/datasets/culi/feature_table.tsv\"\n        tree:    \"microeco/loris/datasets/culi/phylo_tree.tre\"\n        fasta:   \"microeco/loris/datasets/culi/rep_fasta.fasta\"\n        samples: \"microeco/loris/datasets/culi/sample_table.tsv\"\n        taxa:    \"microeco/loris/datasets/culi/tax_table.tsv\"\n      warb:\n        feature: \"microeco/loris/datasets/warb/feature_table.tsv\"\n        tree:    \"microeco/loris/datasets/warb/phylo_tree.tre\"\n        fasta:   \"microeco/loris/datasets/warb/rep_fasta.fasta\"\n        samples: \"microeco/loris/datasets/warb/sample_table.tsv\"\n        taxa:    \"microeco/loris/datasets/warb/tax_table.tsv\"\n\nsample_sheets:\n  compilations:\n    bats:    \"../read_processing/samples/sample_sheets/bats/nwr_combined_sample_sheet.csv\"\n    loris:    \"../read_processing/samples/sample_sheets/loris/hdz_combined_sample_sheet.csv\"\n  nwr1: \"../read_processing/samples/sample_sheets/bats/nwr1_sample_sheet.csv\"\n  hdz1:  \"../read_processing/samples/sample_sheets/loris/hdz1_sample_sheet.csv\"\n  hdz2:  \"../read_processing/samples/sample_sheets/loris/hdz2_sample_sheet.csv\"\n  hdz3:  \"../read_processing/samples/sample_sheets/loris/hdz3_sample_sheet.csv\"\n  hdz4:  \"../read_processing/samples/sample_sheets/loris/hdz4_sample_sheet.csv\"\n  hdz5:  \"../read_processing/samples/sample_sheets/loris/hdz5_sample_sheet.csv\"\n  hdz6:  \"../read_processing/samples/sample_sheets/loris/hdz6_sample_sheet.csv\"\n  hdz7:  \"../read_processing/samples/sample_sheets/loris/hdz7_sample_sheet.csv\"\n  hdz8:  \"../read_processing/samples/sample_sheets/loris/hdz8_sample_sheet.csv\"\n  hdz9:  \"../read_processing/samples/sample_sheets/loris/hdz9_sample_sheet.csv\"\n  hdz10: \"../read_processing/samples/sample_sheets/loris/hdz10_sample_sheet.csv\"\n  hdz11: \"../read_processing/samples/sample_sheets/loris/hdz11_sample_sheet.csv\"\n  hdz12: \"../read_processing/samples/sample_sheets/loris/hdz12_sample_sheet.csv\"\n  hdz13: \"../read_processing/samples/sample_sheets/loris/hdz13_sample_sheet.csv\"\n  hdz14: \"../read_processing/samples/sample_sheets/loris/hdz14_sample_sheet.csv\"\n  hdz15: \"../read_processing/samples/sample_sheets/loris/hdz15_sample_sheet.csv\"\n  hdz16: \"../read_processing/samples/sample_sheets/loris/hdz16_sample_sheet.csv\"\n  hdz17: \"../read_processing/samples/sample_sheets/loris/hdz17_sample_sheet.csv\"\n  hdz18: \"../read_processing/samples/sample_sheets/loris/hdz18_sample_sheet.csv\"\n\nbarcode_alignments:\n  compilations:\n    loris:    \"../read_processing/samples/barcode_alignments/loris/hdz_combined_barcode_alignment.tsv\"\n    bats:    \"../read_processing/samples/barcode_alignments/bats/nwr_combined_barcode_alignment.tsv\"\n  nwr1: \"../read_processing/samples/barcode_alignments/bats/nwr1_barcode_alignment.tsv\"\n  hdz1:  \"../read_processing/samples/barcode_alignments/loris/hdz1_barcode_alignment.tsv\"\n  hdz2:  \"../read_processing/samples/barcode_alignments/loris/hdz2_barcode_alignment.tsv\"\n  hdz3:  \"../read_processing/samples/barcode_alignments/loris/hdz3_barcode_alignment.tsv\"\n  hdz4:  \"../read_processing/samples/barcode_alignments/loris/hdz4_barcode_alignment.tsv\"\n  hdz5:  \"../read_processing/samples/barcode_alignments/loris/hdz5_barcode_alignment.tsv\"\n  hdz6:  \"../read_processing/samples/barcode_alignments/loris/hdz6_barcode_alignment.tsv\"\n  hdz7:  \"../read_processing/samples/barcode_alignments/loris/hdz7_barcode_alignment.tsv\"\n  hdz8:  \"../read_processing/samples/barcode_alignments/loris/hdz8_barcode_alignment.tsv\"\n  hdz9:  \"../read_processing/samples/barcode_alignments/loris/hdz9_barcode_alignment.tsv\"\n  hdz10: \"../read_processing/samples/barcode_alignments/loris/hdz10_barcode_alignment.tsv\"\n  hdz11: \"../read_processing/samples/barcode_alignments/loris/hdz11_barcode_alignment.tsv\"\n  hdz12: \"../read_processing/samples/barcode_alignments/loris/hdz12_barcode_alignment.tsv\"\n  hdz13: \"../read_processing/samples/barcode_alignments/loris/hdz13_barcode_alignment.tsv\"\n  hdz14: \"../read_processing/samples/barcode_alignments/loris/hdz14_barcode_alignment.tsv\"\n  hdz15: \"../read_processing/samples/barcode_alignments/loris/hdz15_barcode_alignment.tsv\"\n  hdz16: \"../read_processing/samples/barcode_alignments/loris/hdz16_barcode_alignment.tsv\"\n  hdz17: \"../read_processing/samples/barcode_alignments/loris/hdz17_barcode_alignment.tsv\"\n  hdz18: \"../read_processing/samples/barcode_alignments/loris/hdz18_barcode_alignment.tsv\"\n\nabund_wf16s_files:\n  hdz1:  \"data/loris/wf16s_abundance/hdz1_abundance_table_species.tsv\"\n  hdz2:  \"data/loris/wf16s_abundance/hdz2_abundance_table_species.tsv\"\n  hdz3:  \"data/loris/wf16s_abundance/hdz3_abundance_table_species.tsv\"\n  hdz4:  \"data/loris/wf16s_abundance/hdz4_abundance_table_species.tsv\"\n  hdz5:  \"data/loris/wf16s_abundance/hdz5_abundance_table_species.tsv\"\n  hdz6:  \"data/loris/wf16s_abundance/hdz6_abundance_table_species.tsv\"\n  hdz7:  \"data/loris/wf16s_abundance/hdz7_abundance_table_species.tsv\"\n  hdz8:  \"data/loris/wf16s_abundance/hdz8_abundance_table_species.tsv\"\n  hdz9:  \"data/loris/wf16s_abundance/hdz9_abundance_table_species.tsv\"\n  hdz10: \"data/loris/wf16s_abundance/hdz10_abundance_table_species.tsv\"\n  hdz11: \"data/loris/wf16s_abundance/hdz11_abundance_table_species.tsv\"\n  hdz12: \"data/loris/wf16s_abundance/hdz12_abundance_table_species.tsv\"\n  hdz13: \"data/loris/wf16s_abundance/hdz13_abundance_table_species.tsv\"\n  hdz14: \"data/loris/wf16s_abundance/hdz14_abundance_table_species.tsv\"\n  hdz15: \"data/loris/wf16s_abundance/hdz15_abundance_table_species.tsv\"\n  hdz16: \"data/loris/wf16s_abundance/hdz16_abundance_table_species.tsv\"\n  hdz17: \"data/loris/wf16s_abundance/hdz17_abundance_table_species.tsv\"\n  hdz18: \"data/loris/wf16s_abundance/hdz18_abundance_table_species.tsv\"\n\nmethods_16s:\n  libprep_workflow: \"'rapid16s'\"\n  dorado_model: \"'dna_r10.4.1_e8.2_400bps_sup@v5.0.0'\"\n  min_length: 1000\n  max_length: 2000\n  min_qual: 7\n  min_id: 85\n  min_cov: 80\n  kit_name: \"'SQK-16S114-24'\"\n  tax_rank: \"S\"\n  n_taxa_barplot: 12\n  abund_threshold: 0\n  loris:\n    rarefy: 3500\n    norm: \"SRS\"\n    min_abund: 0.00001\n    min_freq: 0.01\n    include_lowest: TRUE\n    unifrac: TRUE\n    betadiv: \"aitchison\"\n    alpha_pd: TRUE\n    tax4fun_db: \"Ref99NR\"\n    loris_rarefy: 3500\n    keg_minID: 97\n    \n\n\n\n\n\n\n\nShow/Hide `config_paths.R` Script\n\n\n\n\nglobal            <- config::get(config = \"default\")\nswan              <- config::get(config = \"swan\")\nmicro             <- config::get(config = \"microbiome\")\nloris             <- config::get(config = \"loris\")\nmarmoset          <- config::get(config = \"marmoset\")\nisolates          <- config::get(config = \"isolates\")\nbats              <- config::get(config = \"bats\")\nmethods_16s       <- config::get(config = \"methods_16s\")\nsample_sheets     <- config::get(config = \"sample_sheets\")\nabund_wf16s_files <- config::get(config = \"abund_wf16s_files\")\nbarcode_alignments<- config::get(config = \"barcode_alignments\")\n\nseqruns      <- seqruns %>% keep_at(params$sampleset)       %>% list_flatten(name_spec = \"\")\nsubject_list <- keep_at(subjects, paste0(params$sampleset)) %>% list_flatten(name_spec = \"{inner}\")\npath         <- config::get(config = paste0(params$sampleset))\n\n\n\n\n\n\n\nCustom Engines\nI use custom language engines in some scripts that I named “terminal”\nand “bash”. If you see a chunk of code with {terminal, warning = FALSE}\nwritten where you would usually see {r} at the top of the chunk, then\nrunning the chunk should only print that code as a text string in this\ndocument. This just makes it easier for me to copy and paste the code\ndirectly into the terminal panel that I use in my R Studio window when\nrunning code through a remote server instead of my local R console.\nThere are ways to set R Studio up to run code through multiple servers,\nbut I find this the simplest way to switch back and forth while still\nkeeping a record of the code that have used or changes I have made to\nit.\nYou can expand the content below to see the code that I run at the\nstart of many of these scripts to initiate those language engines.\n\n\n\n\n\n\nknit_engines.R\n\n\n\n\nknitr::knit_engines$set(terminal = function(options) {\n  code <- paste(options$code, collapse = \"\\n\")\n  \n  params <- map(params, ~ if (is.atomic(.)) {list(.)} else {(.)}) %>%\n    list_flatten()\n  \n  patterns <- list(\n    params             = list(\n      sampleset    = paste0(params$sampleset),\n      seqrun       = paste0(params$seqrun),\n      samplesheet  = as.character(sample_sheets[paste0(tolower(params$seqrun))])\n    )            ,\n    \n    global            = global            ,\n    path              = path              ,\n    swan              = swan              ,\n    micro             = micro             ,\n    loris             = loris             ,\n    isolates          = isolates          ,\n    bats              = bats              ,\n    methods_16s       = methods_16s       ,\n    sample_sheets     = sample_sheets     ,\n    abund_wf16s_files = abund_wf16s_files ,\n    barcode_alignments= barcode_alignments\n  )\n  \n  \n  # Replace placeholders group by group\n  for (group in names(patterns)) {\n    placeholder_list <- patterns[[group]]\n    for (name in names(placeholder_list)) {\n      placeholder <- paste(group, name, sep = \"\\\\$\") # Match exact placeholder\n      value <- placeholder_list[[name]]\n      \n      # Replace placeholders exactly and avoid breaking suffixes\n      code <- gsub(placeholder, value, code, perl = TRUE)\n    }\n  }\n  \n  options$warning <- FALSE\n  knitr::engine_output(options, code, out = code)\n})\n\n\nknitr::opts_chunk$set(message = FALSE,\n               warning = FALSE,\n               echo    = TRUE,\n               include = TRUE,\n               eval    = TRUE,\n               comment = \"\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "last_modified": "2025-06-15T16:59:54-05:00"
    }
  ],
  "collections": []
}
